<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sports.persistance.mapper.BasketMapper">
	<insert id="insertCustomerAddBasekt" parameterType="BasketDTO">
		INSERT INTO BASKET_INFO
		(
			USER_NO,
			PROD_NO,
			PROD_QTY,
			REG_USER_NO,
			REG_DT,
			STATUS,
			BSK_PRICE
		)
		VALUES
		(
			#{user_no},
			#{prod_no},
			#{prod_qty},
			#{reg_user_no},
			NOW(),
			'Y',
			#{bsk_price}
		)
	</insert>
	<insert id="insertCustormerBaksetOption" parameterType="list">
		INSERT INTO BASKET_OPTION
		(
			BSK_NO,
			OPT_NO,
			OPT_NAME,
			REG_USER_NO,
			REG_DT
		)
		VALUES
		<foreach collection="list" item="item" index="index" separator=",">
			((SELECT MAX(BSK_NO) FROM BASKET_INFO), #{item.opt_no}, #{item.opt_name}, #{item.reg_user_no}, NOW())
		</foreach>
	</insert>
	<insert id="insertCustomerAddBasketNoOption" parameterType="BasketDTO">
		INSERT INTO BASKET_INFO
		(
			USER_NO,
			PROD_NO,
			PROD_QTY,
			REG_USER_NO,
			REG_DT,
			STATUS,
			BSK_PRICE
		)
		VALUES
		(
			#{user_no},
			#{prod_no},
			#{prod_qty},
			#{user_no},
			NOW(),
			'Y',
			#{bsk_price}
		)
	</insert>
</mapper>